# deepin universal package identification tool

## Table of contents
- [Overview](#overview)
- [Tool set](#sets)
- [package-sbom-tool](#package-sbom-tool)
- [TODO](#todo)
- [Quick start](#quick-start)

## Overview<a name="overview"></a>
deepin universal package SBOM tool set includes package deepin-sbom-tools

**deepin-sbom-tools**

Includes package package identification generation tool `package-sbom-tool`
```bash
deepin-sbom-tools include:
|_/package-sbom-tool
```

## Tool set<a name="sets"></a>
- package-sbom-tool (universal package unique identification generation, SBOM generation tool\verification, SBOM signature\verification)

### package-sbom-tool<a name="package-sbom-tool"></a>

```bash
Usage:  ./package-sbom-tool  <command> [arguments]
Commands:
  generate      generate package sbom info file
  validate      verify the validity of the sbom file format
  identity      package identity
  sign          sign the sbom file
  verify        verify signature of sbom file
Arguments:
  -v    enable verbose mode
  -version
        display the version of tool
```

package-sbom-tool is used to generate SBOM information that complies with the SPDX standard for general software packages.
It is a command line tool. The package information collected by the tool includes file composition, dependency information, copyright, and license.
The SBOM information generated by the tool complies with the SPDX v2.3 specification.

#### Features

The main functions or features of the project.

1. Support DEB package meta information parsing, file fingerprint generation, copyright, license extraction
2. Support package information SPDX json format output
3. Support the generation of unique identifiers for software packages.
4. Support signing sbom files and generating signature files.
5. Support verification of sbom file signature information. Ensure authenticity and integrity.
6. ......

#### Supported common software package formats

- DEB
- RPM (todo)
- Snap (todo)
- Flatpak (todo)
- Appimage (todo)

## TODO<a name="todo"></a>

**Completed**

1. Generate and verify SBOM of deb package.

2. Generate and verify unique identifier of software package.

3. Sign and verify sbom files.

## Quick start<a name="quick-start"></a>

Provide some short steps to enable users to quickly start your project.

### Install dependencies

```bash
go get github.com/google/licensecheck
go get github.com/panjf2000/ants
go get github.com/spdx/tools-golang
go get github.com/tjfoc/gmsm
go get github.com/ulikunitz/xz
```

### Compile

```bash
make
```

### Run

1. Generate sbom information for example.deb package.
```bash
package-sbom-tool generate -i example.deb
```

2. Verify sbom information for example.deb package.
```bash
package-sbom-tool validate -i sbom.spdx.json
```

3. Generate identification and verification for example.deb package.
```bash
package-sbom-tool identity -f example.deb
package-sbom-tool identity -f example.deb -verify pacakgeID
```

4. Sign sbom information
```bash
package-sbom-tool sign -f sbom.spdx.json -prik priv.key
```

5. Verify sbom.signd signature information
```bash
package-sbom-tool verify -f sbom.spdx.json -s sbom.spdx.json.signed -pubk pub.key
```